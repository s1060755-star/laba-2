# üöÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–ü–µ—Ä–µ–¥ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
- Docker (–≤–µ—Ä—Å—ñ—è 20.10 –∞–±–æ –Ω–æ–≤—ñ—à–∞)
- Docker Compose (–≤–µ—Ä—Å—ñ—è 1.29 –∞–±–æ –Ω–æ–≤—ñ—à–∞)

## üîß –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.production`:

```bash
cp .env.production .env
```

**–í–ê–ñ–õ–ò–í–û!** –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

```env
FLASK_SECRET=YOUR_SECURE_RANDOM_STRING_AT_LEAST_32_CHARACTERS_LONG
```

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ:

```bash
# Python
python -c "import secrets; print(secrets.token_hex(32))"

# PowerShell
$bytes = New-Object byte[] 32; [System.Security.Cryptography.RandomNumberGenerator]::Create().GetBytes($bytes); [System.BitConverter]::ToString($bytes) -replace '-',''
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

–£ —Ñ–∞–π–ª—ñ `.env` –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–ª—è –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

```env
# –ö—ñ–ª—å–∫—ñ—Å—Ç—å worker –ø—Ä–æ—Ü–µ—Å—ñ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è: 2-4 x –∫—ñ–ª—å–∫—ñ—Å—Ç—å CPU cores)
GUNICORN_WORKERS=4

# –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤ –Ω–∞ worker
GUNICORN_THREADS=2

# Timeout –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤ (—Å–µ–∫—É–Ω–¥–∏)
GUNICORN_TIMEOUT=120
```

## üê≥ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑ Docker Compose

### –ü–æ–±—É–¥–æ–≤–∞ —Ç–∞ –∑–∞–ø—É—Å–∫

```bash
# –ü–æ–±—É–¥–æ–≤–∞ –æ–±—Ä–∞–∑—É
docker-compose build

# –ó–∞–ø—É—Å–∫ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ
docker-compose up -d

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
docker-compose ps

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
docker-compose logs -f web
```

### –ó—É–ø–∏–Ω–∫–∞ —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è

```bash
# –ó—É–ø–∏–Ω–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker-compose stop

# –ó—É–ø–∏–Ω–∫–∞ —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker-compose down

# –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑ volume (–±–∞–∑–∞ –¥–∞–Ω–∏—Ö –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–∞!)
docker-compose down -v
```

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

### Health Check

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É:

```bash
curl http://localhost:5000/health
```

–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:
```json
{"status": "ok"}
```

### –î–æ—Å—Ç—É–ø –¥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

- **–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞**: http://localhost:5000
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (Swagger)**: http://localhost:5000/apidocs
- **Admin –ø–∞–Ω–µ–ª—å**: http://localhost:5000/admin/login

**–î–∞–Ω—ñ –¥–ª—è –≤—Ö–æ–¥—É –≤ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:**
- Username: `admin`
- Password: `11111`

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û:** –ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –≤—Ö–æ–¥—É!

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤

```bash
# –í—Å—ñ –ª–æ–≥–∏
docker-compose logs -f

# –õ–æ–≥–∏ –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
docker-compose logs -f web

# –û—Å—Ç–∞–Ω–Ω—ñ 100 —Ä—è–¥–∫—ñ–≤ –ª–æ–≥—ñ–≤
docker-compose logs --tail=100 web
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

```bash
docker stats
```

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

```bash
# –ó—É–ø–∏–Ω–∫–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó
docker-compose down

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Git)
git pull

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑—É
docker-compose build

# –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ—ó –≤–µ—Ä—Å—ñ—ó
docker-compose up -d

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤
docker-compose logs -f web
```

## üíæ –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö SQLite –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É Docker volume `db_data`.

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è backup

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è backup –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
mkdir -p backups

# –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker cp $(docker-compose ps -q web):/data/my_database.db ./backups/backup_$(date +%Y%m%d_%H%M%S).db
```

### –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è backup

```bash
# –ó—É–ø–∏–Ω–∫–∞ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
docker-compose down

# –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
docker run --rm -v laba-2-main_db_data:/data -v $(pwd)/backups:/backup alpine cp /backup/your_backup.db /data/my_database.db

# –ó–∞–ø—É—Å–∫ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
docker-compose up -d
```

## üîê –ë–µ–∑–ø–µ–∫–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –±–µ–∑–ø–µ–∫–∏:

1. **–ó–º—ñ–Ω—ñ—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π, –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –∫–ª—é—á –¥–ª—è `FLASK_SECRET`
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS**: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ reverse proxy (nginx, traefik) –∑ SSL/TLS —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞–º–∏
3. **–ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω–∞**: –ù–µ–≥–∞–π–Ω–æ –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –≤—Ö–æ–¥—É
4. **–û–±–º–µ–∂—Ç–µ –¥–æ—Å—Ç—É–ø**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ firewall –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–æ—Ä—Ç—É 5000
5. **–†–µ–≥—É–ª—è—Ä–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: –û–Ω–æ–≤–ª—é–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ Docker –æ–±—Ä–∞–∑–∏
6. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥**: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ alerts –¥–ª—è production

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è reverse proxy (–ø—Ä–∏–∫–ª–∞–¥ –¥–ª—è nginx):

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏
docker-compose logs web

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
docker-compose config
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ volume `db_data` —Å—Ç–≤–æ—Ä–µ–Ω–∏–π:

```bash
docker volume ls | grep db_data
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–º–∏–ª–∫–∏ –¥–æ–∑–≤–æ–ª—ñ–≤ (permissions)

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º volume
docker-compose down -v
docker-compose up -d
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 5000 –∑–∞–π–Ω—è—Ç–∏–π

–ó–º—ñ–Ω—ñ—Ç—å –ø–æ—Ä—Ç —É `docker-compose.yml`:

```yaml
ports:
  - "8080:5000"  # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–æ—Ä—Ç 8080 –∑–∞–º—ñ—Å—Ç—å 5000
```

## üìà –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

–î–ª—è –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ:

1. –ó–±—ñ–ª—å—à—Ç–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å workers —É `.env`:
```env
GUNICORN_WORKERS=8
```

2. –ê–±–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∫—ñ–ª—å–∫–∞ —Ä–µ–ø–ª—ñ–∫:
```bash
docker-compose up -d --scale web=3
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `docker-compose logs -f web`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ health check: `curl http://localhost:5000/health`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker-compose ps`
4. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é: [Docker Documentation](https://docs.docker.com/)

---

**–í–µ—Ä—Å—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0  
**–î–∞—Ç–∞**: 15.12.2025
